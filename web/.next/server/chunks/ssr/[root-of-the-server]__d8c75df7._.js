module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},19776,a=>{"use strict";var b=a.i(11481);(0,b.registerVersion)("firebase","12.7.0","app");var c=b;a.i(35027);var c=b;a.i(16575);var d=a.i(97863);let e=(0,c.getApps)().length?(0,c.getApp)():(0,c.initializeApp)({apiKey:"AIzaSyAEEETL2OND89Wp3jz0MTNBdNzaVfvQfGg",authDomain:"zeroechodaily-fa928.firebaseapp.com",projectId:"zeroechodaily-fa928",storageBucket:"zeroechodaily-fa928.firebasestorage.app",messagingSenderId:"48848484312",appId:"1:48848484312:web:40ff615aabb494accca4ad"}),f=(0,d.getFirestore)(e);class g{static detectVersion(a){return a.schema_version?a.schema_version:"edition_code"in a&&a.edition_code?"3.0":"unknown"}static parseMetaIssues(a){return a.map(a=>this.parseMetaIssue(a))}static parseMetaIssue(a){let b=a.schema_version||"unknown",c=["3.1","3.0"],d=c.find(a=>b===a);if(!d&&"unknown"!==b){let[a,e]=b.split(".").map(Number);(d=c.find(b=>{let[c]=b.split(".").map(Number);return c===a}))&&console.info(`[SchemaParser] v${b} â†’ v${d} fallback`)}return d?.startsWith("3.")?this._parseV3Issue(a,b):(console.warn(`[SchemaParser] Unsupported schema version: ${b}`),this._emptyIssue(b))}static _parseV3Issue(a,b){let c=a.edition_code||"",d=a.edition_name||"",e=a.article_count??0,f=a.published_at||"",g=a.updated_at||"",h=a.status||"preview",i=this.parseEditionCodeToDate(c);return{id:c,edition_code:c,edition_name:d,article_count:e,published_at:f,updated_at:g,status:h,date:i,schema_version:b}}static _emptyIssue(a){return{id:"",edition_code:"",edition_name:"",article_count:0,published_at:"",updated_at:"",status:"preview",date:"",schema_version:a}}static parsePublicationDoc(a){let b=this.detectVersion(a),c=a.edition_code||"",d=a.edition_name||"",e=a.article_count||a.articles?.length||0,f=a.published_at||"",g=a.updated_at||"",h=a.released_at,i=a.status||"preview",j=a.date||this.parseEditionCodeToDate(c);return{id:c,edition_code:c,edition_name:d,article_count:e,published_at:f,updated_at:g,released_at:h,status:i,date:j,schema_version:b}}static parseArticles(a){return a.map(a=>this.parseArticle(a))}static parseArticle(a){let b=a.id||a.article_id||"";return{id:b,article_id:b,title:a.title||a.title_ko||"",title_ko:a.title_ko||a.title||"",title_en:a.title_en||"",summary:a.summary||"",url:a.url||"",source_id:a.source_id||"unknown",category:a.category||"Uncategorized",layout_type:a.layout_type||"Standard",impact_score:a.impact_score??0,zero_echo_score:a.zero_echo_score??0,tags:a.tags||[],published_at:a.published_at||"",date:a.date||"",filename:a.filename||`${a.source_id}_${b}.json`}}static parseEditionCodeToDate(a){if(!a)return"";let b=a.replace(/_\d+$/,"");if(b&&6===b.length&&/^\d{6}$/.test(b)){let a=b.substring(0,2),c=b.substring(2,4),d=b.substring(4,6);return`20${a}-${c}-${d}`}return""}static debugInfo(a){let b=this.detectVersion(a),c=Object.keys(a).join(", ");return`[SchemaParser] Version: ${b}, Fields: ${c}`}}let h="release";function i(a){return(0,d.collection)(f,h,"data",a)}function j(a,b){return(0,d.doc)(f,h,"data",a,b)}let k="publications";async function l(a=!1){try{console.log(`ðŸ“– [Firestore] Fetching _meta document... (includePreview: ${a})`);let b=await (0,d.getDoc)(j(k,"_meta"));if(!b.exists())return console.log("âš ï¸ [Firestore] _meta document not found, falling back to full scan..."),await m();let c=b.data(),e=c.latest_updated_at||null,f=(c.issues||[]).filter(b=>"released"===b.status||a&&"preview"===b.status),h=g.parseMetaIssues(f).map(a=>({id:a.id,edition_code:a.edition_code,edition_name:a.edition_name,article_count:a.article_count,published_at:a.published_at,updated_at:a.updated_at,released_at:a.released_at,status:a.status,date:a.date}));return h.sort((a,b)=>b.edition_code.localeCompare(a.edition_code)),console.log(`âœ… [Firestore] Found ${h.length} released issues from _meta (Schema versions detected)`),{issues:h,latestUpdatedAt:e}}catch(a){return console.error("âŒ [Firestore] Failed to fetch _meta:",a),await m()}}async function m(){try{console.log("ðŸ“– [Firestore] Fallback: scanning all publications...");let a=await (0,d.getDocs)(i(k)),b=[],c=null;a.forEach(a=>{if(a.id.startsWith("_"))return;let c=a.data();b.push({id:a.id,...c})});let e=b.filter(a=>"released"===a.status);for(let a of(e.sort((a,b)=>b.edition_code.localeCompare(a.edition_code)),e))a.updated_at&&(!c||new Date(a.updated_at)>new Date(c))&&(c=a.updated_at);return console.log(`âœ… [Firestore] Fallback found ${e.length} released issues`),{issues:e,latestUpdatedAt:c}}catch(a){return console.error("âŒ [Firestore] Fallback failed:",a),{issues:[],latestUpdatedAt:null}}}async function n(a){try{let b=await (0,d.getDoc)(j(k,a));if(!b.exists())return console.log(`âš ï¸ [Firestore] Publication not found: ${a}`),[];let c=b.data().articles||[];return g.parseArticles(c).map(a=>({id:a.id,article_id:a.article_id,title:a.title,title_ko:a.title_ko,title_en:a.title_en,summary:a.summary,url:a.url,source_id:a.source_id,category:a.category,layout_type:a.layout_type,impact_score:a.impact_score,zero_echo_score:a.zero_echo_score,tags:a.tags,published_at:a.published_at,date:a.date,filename:a.filename}))}catch(b){return console.error(`âŒ [Firestore] Failed to fetch articles for ${a}:`,b),[]}}async function o(){try{let a=await (0,d.getDoc)(j(k,"_meta"));if(a.exists())return a.data().latest_updated_at||null;console.log("âš ï¸ [Firestore] _meta not found, falling back...");let{latestUpdatedAt:b}=await m();return b}catch(a){return console.error("âŒ [Firestore] checkLatestUpdate failed:",a),null}}async function p(b=20){try{console.log(`ðŸ“– [Firestore] Fetching trend reports... (limit: ${b})`);let{query:c,orderBy:e,limit:f}=await a.A(37108),g=i("trend_reports"),h=c(g,e("created_at","desc"),f(b)),j=await (0,d.getDocs)(h),k=[];return j.forEach(a=>{let b=a.data();k.push({id:a.id,period:b.period||{},created_at:b.created_at||"",top_trends:b.top_trends||[],tag_rankings:b.tag_rankings||[],weekly_insight:b.weekly_insight||"",next_week_outlook:b.next_week_outlook||""})}),console.log(`âœ… [Firestore] Found ${k.length} trend reports`),k}catch(a){return console.error("âŒ [Firestore] Failed to fetch trend reports:",a),[]}}a.s(["checkLatestUpdate",()=>o,"fetchArticlesByIssueId",()=>n,"fetchPublishedIssues",()=>l,"fetchTrendReports",()=>p],19776)},35103,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/ReportsPageClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ReportsPageClient.tsx <module evaluation>","default")},54693,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/ReportsPageClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ReportsPageClient.tsx","default")},67010,a=>{"use strict";a.i(35103);var b=a.i(54693);a.n(b)},29832,a=>{"use strict";var b=a.i(7997),c=a.i(19776),d=a.i(67010);async function e(){let a=await (0,c.fetchTrendReports)(20);return(0,b.jsx)(d.default,{initialReports:a})}a.s(["default",()=>e,"dynamic",0,"force-dynamic","metadata",0,{title:"íŠ¸ë Œë“œ ë¦¬í¬íŠ¸ & ë¶„ì„",description:"ZND AIê°€ ë¶„ì„í•œ ì‹¬ì¸µ íŠ¸ë Œë“œ ë¦¬í¬íŠ¸ì™€ í‚¤ì›Œë“œ ì¸ì‚¬ì´íŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.",openGraph:{title:"íŠ¸ë Œë“œ ë¦¬í¬íŠ¸ - ZeroEcho.Daily",description:"ê¸€ë¡œë²Œ í…Œí¬ íŠ¸ë Œë“œ ì‹¬ì¸µ ë¶„ì„ ë³´ê³ ì„œ"}},"revalidate",0,0])},37108,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_firebase_firestore_dist_index_mjs_5ec5dc39._.js"].map(b=>a.l(b))).then(()=>b(74988)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d8c75df7._.js.map